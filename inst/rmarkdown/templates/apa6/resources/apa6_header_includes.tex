% Manuscript styling
\usepackage{csquotes}
\usepackage{upgreek}
\captionsetup{font=singlespacing,justification=justified}

% Table formatting
\usepackage{longtable}
\usepackage{lscape}
% \usepackage[counterclockwise]{rotating}   % Landscape page setup for large tables
\usepackage{multirow}		% Table styling
\usepackage{tabularx}		% Control Column width
\usepackage[flushleft]{threeparttable}	% Allows for three part tables with a specified notes section
\usepackage{threeparttablex}            % Lets threeparttable work with longtable

% Create new environments so endfloat can handle them
% \newenvironment{ltable}
%   {\begin{landscape}\begin{center}\begin{threeparttable}}
%   {\end{threeparttable}\end{center}\end{landscape}}
\newenvironment{lltable}{\begin{landscape}\begin{center}\begin{ThreePartTable}}{\end{ThreePartTable}\end{center}\end{landscape}}

% Enables adjusting longtable caption width to table width
% Solution found at http://golatex.de/longtable-mit-caption-so-breit-wie-die-tabelle-t15767.html
\makeatletter
\newcommand\LastLTentrywidth{1em}
\newlength\longtablewidth
\setlength{\longtablewidth}{1in}
\newcommand{\getlongtablewidth}{\begingroup \ifcsname LT@\roman{LT@tables}\endcsname \global\longtablewidth=0pt \renewcommand{\LT@entry}[2]{\global\advance\longtablewidth by ##2\relax\gdef\LastLTentrywidth{##2}}\@nameuse{LT@\roman{LT@tables}} \fi \endgroup}

% \setlength{\parindent}{0.5in}
% \setlength{\parskip}{0pt plus 0pt minus 0pt}

\ifluatex
\defaultfontfeatures{Scale=MatchLowercase,Mapping=tex-text}
\setsansfont[Numbers=Lowercase,LetterSpace=3,ItalicFont={Hypatia Sans Pro},ItalicFeatures={FakeSlant=0.2},BoldItalicFont={Hypatia Sans Pro Semibold},BoldItalicFeatures={FakeSlant=0.2},BoldFont={Hypatia Sans Pro Semibold}]{Hypatia Sans Pro}
\setmonofont{Courier}
\setmathrm[Numbers=Uppercase]{Warnock Pro}
\setmathsf{Hypatia Sans Pro}
\setmathtt{Courier New}
\setromanfont[Numbers=Lowercase,Style=Alternate,ItalicFeatures={Style=Swash},Ligatures={Common}]{Warnock Pro}
\newfontinstance\titlefontspec[Numbers=Uppercase,Letters=SmallCaps,Style=Alternate]{Warnock Pro}
\newfontinstance\sectionfontspec[Numbers=Lowercase,Letters=SmallCaps,Style=Alternate]{Warnock Pro}
\newfontinstance\subsectionfontspec[Numbers=Lowercase,Style=Alternate]{Warnock Pro Italic}
\newfontinstance\subsubsectionfontspec[Numbers=Lowercase,Style=Alternate]{Warnock Pro Italic}
\else
\renewcommand\textsc[1]{\MakeUppercase{#1}}
\fi

